<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>libde265.js</title>
<style type="text/css">
body, button {
    font: 13px Helvetica, arial, freesans, clean, sans-serif;
}
</style>
<script type="text/javascript" src="../lib/libde265.min.js"></script>
<script>
<!--
var VIDEO_URL = "spreedmovie.hevc";

window.onload = function() {
    var video = document.getElementById("video");
    var status = document.getElementById("status");

    var player = new libde265.RawPlayer(video);
    player.set_status_callback(function(msg, fps) {
        switch (msg) {
        case "loading":
            status.innerHTML = "Loading movie...";
            break;
        case "initializing":
            status.innerHTML = "Initializing...";
            break;
        case "playing":
            status.innerHTML = "Playing...";
            break;
        case "stopped":
            status.innerHTML = "";
            break;
        case "fps":
            status.innerHTML = Number(fps).toFixed(2) + " fps";
            break;
        default:
            status.innerHTML = msg;
        }
    });

    var playback = function(event) {
        event.preventDefault();
        player.playback(VIDEO_URL);
    };

    var button = document.getElementById("play");
    if (button.addEventListener) {
        button.addEventListener("click", playback, false);
    } else if (button.attachEvent){
        button.attachEvent('onclick', playback);
    }
};
-->
</script>
<body>
    <h1>libde265.js</h1>
    <div>
        <div>Simple HEVC/H.265 bitstream player in pure JavaScript.</div>
        <canvas id="video" width="0" height="0"></canvas>
    </div>
    <button id="play">Play</button>
    <span id="status"></span>
</body>
</html>
